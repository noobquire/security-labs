# Lab 1. Intro
1. Щоб отримати перше завдання, сконвертуємо бінарний код у ASCII символи за допомогою утиліти CipherUtils:

![image](https://user-images.githubusercontent.com/20458905/140978184-bad3f9dd-ee59-4ed6-b80e-894fe3f0a8af.png)

![image](https://user-images.githubusercontent.com/20458905/140978259-c2c1bcd9-0138-493a-b2cd-0b995557f918.png)

2. Отримаємо Base64 рядок, який ще раз сконвертуємо у ASCII символи:

![image](https://user-images.githubusercontent.com/20458905/140978430-045c59d2-0760-4102-af51-4affdf72515d.png)

3. Зашифрований у другому завданні рядок у hex-форматі (бо містить лише символи 0-9, a-f)

![image](https://user-images.githubusercontent.com/20458905/140978753-dad19519-30d5-40a8-8e31-c6820c608096.png)

Переберемо всі можливі ключі (зсув 0-127 символів). Визначимо найкращий ключ за відповідністю частоти букв у отриманому тексті.

Отримали ключ '7'. Через не-ASCII символи вивід у консоль дещо неправильний.

![image](https://user-images.githubusercontent.com/20458905/140979143-13ad6ebc-e758-47b2-95fb-d0a212a100c5.png)

4. У третьому завданні рядок у base64-форматі (містить лише символи a-z, A-Z, 0-9, = у кінці).

![image](https://user-images.githubusercontent.com/20458905/140979717-45374b65-25fe-482c-baca-06edd82260cb.png)

Знайдемо довжину ключа. Для цього порахуємо кількість співпадінь символів при почерговому зсуві одного з рядків на один символ вперед.

![image](https://user-images.githubusercontent.com/20458905/140980008-7a601968-496a-4adc-ac47-cb9813e47a28.png)

Бачимо більші значення кожні 3 зсуви, отже довжина ключа 3.

Переберемо кожну з 3 букв ключа, перебираючи всі зсуви символів для кожної 3ї букви аналогічним до попереднього завдання способом.

Оберемо найкращі символи для кожної букви ключа, сформуємо з них ключ (отримали "L0l") та розшифруємо весь текст:

![image](https://user-images.githubusercontent.com/20458905/140980479-6bf28210-f7a1-4233-b64c-feadbcf75fe3.png)

5. Для розшифровки четвертого тексту використаємо генетичний алгоритм (код у GeneticAlgorithm). Для основи реалізації алгоритму використано відкриту бібліотеку GeneticSharp (https://github.com/giacomelli/GeneticSharp)

Напишемо власні класи хромосоми та fitness-функції алгоритму.

Хромосома представляє собою алфавіт (26 унікальних букв A-Z у випадковому порядку).

Для фітнес-функції використано частотний аналіз на основі списку частот квадграм з відкритого джерела (http://practicalcryptography.com/cryptanalysis/text-characterisation/quadgrams/). 

Оцінка тексту є сумою відносних частот квадграм у тексті помножених на кількість разів, які зустрічається ця квадграма.

Налаштування генетичного алгоритму:
* Вибірка кращих хромосом на основі оцінки розшифрованого ними тексту.
* Розмір популяції: 250 одиниць, з них обирається 200 одиниць.
* Кількість поколінь: 500
* Кросовер: обмін позицій букв між хромосомами
* Ймовірність кросоверу: 45%
* Мутація: зміна позицій двох випадкових букв
* Ймовірність мутації: 80%

Введемо текст у алгоритм, отримаємо розшифрований результат (правильно зазвичай з 2-3 разу та за 10-15 секунд):

![image](https://user-images.githubusercontent.com/20458905/140982868-1c293601-06ec-452a-89e5-cd983094c97e.png)

Отриманий алфавіт-ключ: EKMFLGDQVZNTOWYHXUSPAJBRCI

6. Для розшифровки п'ятого тексту спочатку знайдемо довжину ключа. Для цього знайдемо відстані між повторюваними 2-5-грамами.

![image](https://user-images.githubusercontent.com/20458905/140983625-219bf53f-a1e7-4131-9ef4-ccce316ed572.png)

Побачимо, що майже всі відстані мають спільний дільник 4, отже довжина ключа 4.

![image](https://user-images.githubusercontent.com/20458905/140983806-70483f64-3860-4382-b435-a1cdfa83f158.png)

7. *розшифровка тексту вручну*

У кінці тексту побачимо повторювані 3 рази символи UYXCZYT. Скоріше за все, це частина посилання на іншу лабораторну у вигляді, аналогічному до того, що було у кінці 4 тексту: 
BITLYSLASHTWOCAPITALYCAPITALZCAPITALBLCAPITALYCAPITALL

Базуючись на цьому, можна зробити висновок, що UYXCZYT - це слово CAPITAL, зашифроване ідучими підряд алфавітами.

Оскільки довжина ID у посилані bit.ly завжди 7 символів, також можна зробити висновок, що JOEBKOH також є словом CAPITAL зашифрованим з іншим зсувом.

Перед першим словом CAPITAL 5 зайвих символів, що починаються з T, скоріше за все RKLEA це слово THREE.

Таким чином також розшифровуємо BITLYSLASH перед посиланням. Маємо достатньо символів, щоб поступово розшифрувати увесь текст (наприклад, можна побачити слово CONGRATULATIONS на почтаку, або REALDEAL перед посиланням).

Виписуючи правильні заміни букв та знаходячи нові за допомогою підсвітки правильно розшифрованих букв тексту, вдалось повністю його розшифрувати:

![image](https://user-images.githubusercontent.com/20458905/140985369-84b7b551-f3ff-43c1-ab6b-242ab55b6f85.png)

У результаті отримали відривок з промови Дж. Ф. Кенеді та посилання на наступну лабораторну.

Алфавіти-ключі:

1. TEUIJYSPBVAOHFKNDLMZRGQCXW
2. YQJBEUNIDGWLPTMRXHOKZSAFVC
3. OQFPASKZHNLTJUIXCDYRGEWBMV
4. LJGONRPKCBAHDTUEFSQYXWZVMI

Генетичний алгоритм у цьому випадку спрацював погано та заходив у локальний максимум. Однак, він використовувся разом з фітнес-функцією відповідності частот окремих букв частотам у англійській мові, та трохи допомагав знаходити правильні заміни букв.
